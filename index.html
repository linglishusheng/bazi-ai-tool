<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>八字AI分析工具 - 免费在线算命</title>
    <meta name="description" content="免费八字AI分析工具，输入出生时间，获取专业的八字分析和AI智能解读">
    <meta name="keywords" content="八字,算命,AI分析,免费,在线工具,四柱八字">
    <meta name="author" content="八字AI分析工具">
    
    <!-- 引入样式 -->
    <link rel="stylesheet" href="style.css">
    
    <!-- 引入字体图标 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- 引入开源八字库 -->
    <script src="https://cdn.jsdelivr.net/npm/lunar-javascript@1.6.6/lunar.min.js"></script>
    
    <!-- 引入AI对话库（可选，用于增强） -->
    <script src="https://cdn.jsdelivr.net/npm/@huggingface/coders@0.0.6/dist/coders.min.js"></script>
    
    <!-- 网站图标 -->
    <link rel="icon" type="image/x-icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>🔮</text></svg>">
</head>
<body>
    <!-- 导航栏 -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-brand">
                <i class="fas fa-star-and-crescent"></i>
                <span>八字AI分析</span>
            </div>
            <div class="nav-menu">
                <a href="#" class="nav-link active"><i class="fas fa-home"></i> 首页</a>
                <a href="#" class="nav-link"><i class="fas fa-info-circle"></i> 关于</a>
                <a href="#" class="nav-link"><i class="fas fa-question-circle"></i> 帮助</a>
            </div>
        </div>
    </nav>

    <!-- 主容器 -->
    <main class="main-container">
        <!-- 头部介绍 -->
        <header class="hero">
            <h1 class="hero-title">
                <i class="fas fa-magic"></i> 免费八字AI分析工具
            </h1>
            <p class="hero-subtitle">
                输入出生时间，获取专业的八字分析和AI智能解读
            </p>
            <div class="hero-features">
                <div class="feature">
                    <i class="fas fa-shield-alt"></i>
                    <span>隐私安全</span>
                </div>
                <div class="feature">
                    <i class="fas fa-bolt"></i>
                    <span>快速分析</span>
                </div>
                <div class="feature">
                    <i class="fas fa-robot"></i>
                    <span>AI智能</span>
                </div>
                <div class="feature">
                    <i class="fas fa-hand-holding-heart"></i>
                    <span>完全免费</span>
                </div>
            </div>
        </header>

        <!-- 主要内容区 -->
        <div class="content-wrapper">
            <!-- 左侧：输入和分析结果 -->
            <div class="main-content">
                <!-- 第一步：输入出生信息 -->
                <section class="card input-section">
                    <div class="card-header">
                        <h2><i class="fas fa-user-edit"></i> 第一步：输入出生信息</h2>
                        <p class="card-subtitle">请准确填写您的出生时间，以获得精确的八字分析</p>
                    </div>
                    
                    <div class="card-body">
                        <div class="input-grid">
                            <!-- 公历生日 -->
                            <div class="input-group">
                                <label for="birthdate" class="input-label">
                                    <i class="fas fa-calendar-day"></i> 公历生日
                                </label>
                                <input type="date" id="birthdate" class="input-field" value="1990-01-01">
                                <div class="input-hint">请选择您的出生日期</div>
                            </div>

                            <!-- 出生时间 -->
                            <div class="input-group">
                                <label for="birthtime" class="input-label">
                                    <i class="fas fa-clock"></i> 出生时辰
                                </label>
                                <select id="birthtime" class="input-field">
                                    <option value="0">子时 (23:00-00:59)</option>
                                    <option value="1">丑时 (01:00-02:59)</option>
                                    <option value="2">寅时 (03:00-04:59)</option>
                                    <option value="3">卯时 (05:00-06:59)</option>
                                    <option value="4">辰时 (07:00-08:59)</option>
                                    <option value="5">巳时 (09:00-10:59)</option>
                                    <option value="6">午时 (11:00-12:59)</option>
                                    <option value="7">未时 (13:00-14:59)</option>
                                    <option value="8">申时 (15:00-16:59)</option>
                                    <option value="9">酉时 (17:00-18:59)</option>
                                    <option value="10">戌时 (19:00-20:59)</option>
                                    <option value="11">亥时 (21:00-22:59)</option>
                                </select>
                                <div class="input-hint">请选择最接近的时辰</div>
                            </div>

                            <!-- 性别 -->
                            <div class="input-group">
                                <label for="gender" class="input-label">
                                    <i class="fas fa-venus-mars"></i> 性别
                                </label>
                                <div class="gender-select">
                                    <label class="radio-label">
                                        <input type="radio" name="gender" value="male" checked>
                                        <span class="radio-custom"></span>
                                        <span class="radio-text">男</span>
                                    </label>
                                    <label class="radio-label">
                                        <input type="radio" name="gender" value="female">
                                        <span class="radio-custom"></span>
                                        <span class="radio-text">女</span>
                                    </label>
                                </div>
                                <div class="input-hint">性别影响大运排盘</div>
                            </div>
                        </div>

                        <button id="calculateBtn" class="btn btn-primary btn-large">
                            <i class="fas fa-calculator"></i> 计算八字
                        </button>
                    </div>
                </section>

                <!-- 第二步：八字结果显示 -->
                <section class="card result-section" id="resultSection" style="display: none;">
                    <div class="card-header">
                        <h2><i class="fas fa-chart-bar"></i> 第二步：八字分析结果</h2>
                        <p class="card-subtitle">您的四柱八字和基本信息</p>
                    </div>
                    
                    <div class="card-body">
                        <!-- 四柱八字展示 -->
                        <div class="bazi-container">
                            <div class="bazi-grid">
                                <div class="bazi-column">
                                    <div class="bazi-label">年柱</div>
                                    <div class="bazi-value" id="yearZhu">-</div>
                                    <div class="bazi-element" id="yearElement">-</div>
                                </div>
                                <div class="bazi-column">
                                    <div class="bazi-label">月柱</div>
                                    <div class="bazi-value" id="monthZhu">-</div>
                                    <div class="bazi-element" id="monthElement">-</div>
                                </div>
                                <div class="bazi-column">
                                    <div class="bazi-label">日柱</div>
                                    <div class="bazi-value" id="dayZhu">-</div>
                                    <div class="bazi-element" id="dayElement">-</div>
                                </div>
                                <div class="bazi-column">
                                    <div class="bazi-label">时柱</div>
                                    <div class="bazi-value" id="hourZhu">-</div>
                                    <div class="bazi-element" id="hourElement">-</div>
                                </div>
                            </div>
                            
                            <!-- 八字详细信息 -->
                            <div class="bazi-details">
                                <div class="detail-row">
                                    <span class="detail-label">八字：</span>
                                    <span id="fullBazi" class="detail-value">-</span>
                                </div>
                                <div class="detail-row">
                                    <span class="detail-label">生肖：</span>
                                    <span id="shengxiao" class="detail-value">-</span>
                                </div>
                                <div class="detail-row">
                                    <span class="detail-label">命主：</span>
                                    <span id="mingzhu" class="detail-value">-</span>
                                </div>
                                <div class="detail-row">
                                    <span class="detail-label">五行：</span>
                                    <span id="wuxing" class="detail-value">-</span>
                                </div>
                                <div class="detail-row">
                                    <span class="detail-label">日主：</span>
                                    <span id="rizhu" class="detail-value">-</span>
                                </div>
                            </div>
                        </div>

                        <!-- 五行能量图 -->
                        <div class="wuxing-chart">
                            <h3><i class="fas fa-chart-pie"></i> 五行能量分布</h3>
                            <div class="chart-container">
                                <div class="chart-bar" data-element="木">
                                    <div class="bar-label">木</div>
                                    <div class="bar-track">
                                        <div class="bar-fill" id="woodBar" style="width: 0%"></div>
                                    </div>
                                    <div class="bar-value" id="woodValue">0%</div>
                                </div>
                                <div class="chart-bar" data-element="火">
                                    <div class="bar-label">火</div>
                                    <div class="bar-track">
                                        <div class="bar-fill" id="fireBar" style="width: 0%"></div>
                                    </div>
                                    <div class="bar-value" id="fireValue">0%</div>
                                </div>
                                <div class="chart-bar" data-element="土">
                                    <div class="bar-label">土</div>
                                    <div class="bar-track">
                                        <div class="bar-fill" id="earthBar" style="width: 0%"></div>
                                    </div>
                                    <div class="bar-value" id="earthValue">0%</div>
                                </div>
                                <div class="chart-bar" data-element="金">
                                    <div class="bar-label">金</div>
                                    <div class="bar-track">
                                        <div class="bar-fill" id="metalBar" style="width: 0%"></div>
                                    </div>
                                    <div class="bar-value" id="metalValue">0%</div>
                                </div>
                                <div class="chart-bar" data-element="水">
                                    <div class="bar-label">水</div>
                                    <div class="bar-track">
                                        <div class="bar-fill" id="waterBar" style="width: 0%"></div>
                                    </div>
                                    <div class="bar-value" id="waterValue">0%</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- 第三步：AI分析 -->
                <section class="card ai-section">
                    <div class="card-header">
                        <h2><i class="fas fa-robot"></i> 第三步：AI智能分析</h2>
                        <p class="card-subtitle">输入您关心的问题，获取AI的深度解读</p>
                    </div>
                    
                    <div class="card-body">
                        <!-- 问题输入 -->
                        <div class="question-input">
                            <label for="question" class="input-label">
                                <i class="fas fa-question-circle"></i> 请输入您的问题
                            </label>
                            <textarea id="question" class="textarea-field" 
                                      placeholder="例如：我的事业运势如何？什么时候有好的发展机会？感情婚姻需要注意什么？..." 
                                      rows="4"></textarea>
                            <div class="input-hint">您可以从事业、财运、感情、健康等方面提问</div>
                        </div>

                        <!-- 快速提问按钮 -->
                        <div class="quick-questions">
                            <span class="quick-label">快速提问：</span>
                            <button class="btn-quick" data-question="我的事业运势如何？">事业运势</button>
                            <button class="btn-quick" data-question="我的财运怎么样？">财运分析</button>
                            <button class="btn-quick" data-question="感情婚姻需要注意什么？">感情婚姻</button>
                            <button class="btn-quick" data-question="健康方面有什么需要注意的？">健康建议</button>
                        </div>

                        <button id="analyzeBtn" class="btn btn-secondary btn-large">
                            <i class="fas fa-brain"></i> AI智能分析
                        </button>

                        <!-- 分析结果显示 -->
                        <div class="answer-container" id="answerContainer" style="display: none;">
                            <div class="answer-header">
                                <h3><i class="fas fa-comment-dots"></i> AI分析结果</h3>
                                <div class="answer-meta">
                                    <span id="answerTime"></span>
                                    <button id="copyAnswer" class="btn-icon" title="复制结果">
                                        <i class="fas fa-copy"></i>
                                    </button>
                                </div>
                            </div>
                            
                            <div class="answer-content" id="answerContent">
                                <div class="loading-indicator" id="loadingIndicator">
                                    <div class="spinner"></div>
                                    <p>AI正在思考中，请稍候...</p>
                                </div>
                                <div id="aiAnswer" style="display: none;"></div>
                            </div>
                            
                            <div class="answer-footer">
                                <div class="disclaimer">
                                    <i class="fas fa-info-circle"></i>
                                    <small>本分析基于传统八字理论和AI智能生成，仅供参考娱乐，不作为专业建议</small>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </div>

            <!-- 右侧：工具和信息 -->
            <div class="sidebar">
                <!-- 使用说明 -->
                <section class="card info-card">
                    <div class="card-header">
                        <h3><i class="fas fa-book"></i> 使用说明</h3>
                    </div>
                    <div class="card-body">
                        <ol class="instructions">
                            <li>选择准确的出生日期和时间</li>
                            <li>点击"计算八字"获取四柱信息</li>
                            <li>输入您关心的问题</li>
                            <li>点击"AI智能分析"获取解读</li>
                            <li>结果仅供参考娱乐</li>
                        </ol>
                    </div>
                </section>

                <!-- 最近分析记录 -->
                <section class="card info-card">
                    <div class="card-header">
                        <h3><i class="fas fa-history"></i> 分析记录</h3>
                    </div>
                    <div class="card-body">
                        <div id="historyList" class="history-list">
                            <div class="history-empty">
                                <i class="fas fa-history"></i>
                                <p>暂无分析记录</p>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- 分享工具 -->
                <section class="card info-card">
                    <div class="card-header">
                        <h3><i class="fas fa-share-alt"></i> 分享工具</h3>
                    </div>
                    <div class="card-body">
                        <div class="share-buttons">
                            <button class="btn-share wechat" onclick="shareToWechat()">
                                <i class="fab fa-weixin"></i> 微信
                            </button>
                            <button class="btn-share weibo" onclick="shareToWeibo()">
                                <i class="fab fa-weibo"></i> 微博
                            </button>
                            <button class="btn-share copy-link" onclick="copyPageLink()">
                                <i class="fas fa-link"></i> 复制链接
                            </button>
                        </div>
                    </div>
                </section>

                <!-- 关于工具 -->
                <section class="card info-card">
                    <div class="card-header">
                        <h3><i class="fas fa-info-circle"></i> 关于本工具</h3>
                    </div>
                    <div class="card-body">
                        <p>本工具完全免费，使用开源八字计算库，结合AI智能分析，为您提供八字解读参考。</p>
                        <div class="tool-info">
                            <div class="info-item">
                                <i class="fas fa-code"></i>
                                <span>开源技术</span>
                            </div>
                            <div class="info-item">
                                <i class="fas fa-lock"></i>
                                <span>隐私保护</span>
                            </div>
                            <div class="info-item">
                                <i class="fas fa-sync-alt"></i>
                                <span>持续更新</span>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </div>

        <!-- 免责声明 -->
        <section class="disclaimer-section">
            <div class="disclaimer-content">
                <h4><i class="fas fa-exclamation-triangle"></i> 重要声明</h4>
                <p>本工具所有分析结果均基于算法生成，仅供娱乐参考。命运掌握在自己手中，请理性看待分析结果，切勿沉迷。不构成任何专业建议，不承担任何责任。如需获得更专业的分析，+VX：LingLiShuSheng</p>
            </div>
        </section>
    </main>

    <!-- 页脚 -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-info">
                <p>© 2024 八字AI分析工具 | 完全免费 | 开源项目</p>
                <p>本工具仅供娱乐参考，请勿用于商业用途</p>
            </div>
            <div class="footer-links">
                <a href="#" class="footer-link">使用条款</a>
                <a href="#" class="footer-link">隐私政策</a>
                <a href="#" class="footer-link">联系我们</a>
            </div>
        </div>
    </footer>

    <!-- 加载遮罩 -->
    <div id="globalLoading" class="global-loading" style="display: none;">
        <div class="loading-content">
            <div class="spinner-large"></div>
            <p>正在加载中...</p>
        </div>
    </div>

    <!-- 消息提示 -->
    <div id="messageToast" class="toast" style="display: none;"></div>

    <!-- 引入JavaScript文件 -->
    <script src="script.js"></script>
</body>
</html>
