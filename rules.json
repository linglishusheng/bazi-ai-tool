{
  "principles": {
    "dayBranchAnalysis": {
      "title": "日支十神分析原则",
      "description": "根据日支坐下十神的属性，结合日主旺衰，分析日主性情与配偶情况、夫妻关系",
      "rules": {
        "正官": {
          "corePersonality": "端正自律，重规则，责任感强，保守稳重",
          "marriageCharacteristics": "配偶强势，命主被压制",
          "careerWealth": "适合公职、管理、法律；收入稳定，不喜冒险",
          "health": "注意压力大导致失眠、消化问题",
          "male": "妻子贤惠、持家、有教养",
          "female": "丈夫稳重、有地位、但可能古板；婚姻稳定，但少激情"
        },
        "七杀": {
          "corePersonality": "刚烈果断，魄力强，叛逆，嫉恶如仇，人生起伏大",
          "marriageCharacteristics": "配偶强势，命主被压制",
          "careerWealth": "适合军警、创业、高风险行业；成则大贵，败则大损",
          "health": "易有外伤、手术、突发性疾病",
          "male": "怕老婆或感情被动；妻强势、能干，但易争执",
          "female": "丈夫个性强、有魄力，但婚姻多波折，易口舌是非"
        }
      }
    },
    "tenGodsQuantity": {
      "title": "十神数量分析原则",
      "description": "八字中哪个十神多，就代表哪个十神作用力大，对命主的人产生影响比较明显",
      "rules": {
        "官多贱": "八字正官太多的人：保守、谨慎、胆小怕事，容易贫困、卑贱、老实",
        "杀多死": "八字偏官(七杀)太多的人：容易犯凶、破财、有灾，严重容易死亡或六亲早逝",
        "印多孤": "八字正印太多的人：比较清高、孤傲、孤独、自以为是，不喜社交、记忆力好",
        "枭多凶": "八字偏印(枭神)太多：容易有慢性病或隐性疾病",
        "食多愁": "八字食神太多：容易莫名其妙的忧愁，总是若有所思、多愁善感",
        "伤多害": "八字伤官太多：主莫名其妙跟人发生口舌是非、官非、冲突等"
      }
    }
  },
  "analysisFramework": {
    "traditional": {
      "title": "传统分析方法",
      "steps": [
        "判断是否为从格",
        "分析日支坐下十神",
        "分析十神数量分布",
        "分析天干十神外在性格",
        "结合旺衰进行综合判断"
      ]
    },
    "modern": {
      "title": "现代人生规划解读",
      "framework": [
        "先天特质与后天发展的整合性评估",
        "内在优势图谱",
        "关键领域建议",
        "行动与调整建议"
      ]
    }
  }
}

// 八字推算核心类
class BaziCalculator {
  constructor() {
    // 天干地支定义
    this.HEAVENLY_STEMS = ['甲', '乙', '丙', '丁', '戊', '己', '庚', '辛', '壬', '癸']; // 十天干
    this.EARTHLY_BRANCHES = ['子', '丑', '寅', '卯', '辰', '巳', '午', '未', '申', '酉', '戌', '亥']; // 十二地支
    
    // 五行定义
    this.FIVE_ELEMENTS = ['木', '火', '土', '金', '水'];
    
    // 天干五行属性
    this.stemElements = {
      '甲': '木', '乙': '木', '丙': '火', '丁': '火', '戊': '土',
      '己': '土', '庚': '金', '辛': '金', '壬': '水', '癸': '水'
    };
    
    // 天干阴阳属性
    this.stemYinYang = {
      '甲': '阳', '乙': '阴', '丙': '阳', '丁': '阴', '戊': '阳',
      '己': '阴', '庚': '阳', '辛': '阴', '壬': '阳', '癸': '阴'
    };
    
    // 地支五行属性
    this.branchElements = {
      '子': '水', '丑': '土', '寅': '木', '卯': '木', '辰': '土', '巳': '火',
      '午': '火', '未': '土', '申': '金', '酉': '金', '戌': '土', '亥': '水'
    };
    
    // 地支藏干
    this.branchHiddenStems = {
      '子': ['癸'],
      '丑': ['己', '癸', '辛'],
      '寅': ['甲', '丙', '戊'],
      '卯': ['乙'],
      '辰': ['戊', '乙', '癸'],
      '巳': ['丙', '戊', '庚'],
      '午': ['丁', '己'],
      '未': ['己', '丁', '乙'],
      '申': ['庚', '壬', '戊'],
      '酉': ['辛'],
      '戌': ['戊', '辛', '丁'],
      '亥': ['壬', '甲']
    };
    
    // 十神对照表
    this.tenGods = {
      '比肩': { relation: '同我同性', element: 'same', yinyang: 'same' },
      '劫财': { relation: '同我异性', element: 'same', yinyang: 'different' },
      '食神': { relation: '我生同性', element: 'generate', yinyang: 'same' },
      '伤官': { relation: '我生异性', element: 'generate', yinyang: 'different' },
      '正财': { relation: '我克异性', element: 'overcome', yinyang: 'different' },
      '偏财': { relation: '我克同性', element: 'overcome', yinyang: 'same' },
      '正官': { relation: '克我异性', element: 'overcomeBy', yinyang: 'different' },
      '七杀': { relation: '克我同性', element: 'overcomeBy', yinyang: 'same' },
      '正印': { relation: '生我异性', element: 'generateBy', yinyang: 'different' },
      '偏印': { relation: '生我同性', element: 'generateBy', yinyang: 'same' }
    };
    
    // 五行生克关系
    this.elementRelations = {
      '木': { generate: '火', overcome: '土', generatedBy: '水', overcomeBy: '金' },
      '火': { generate: '土', overcome: '金', generatedBy: '木', overcomeBy: '水' },
      '土': { generate: '金', overcome: '水', generatedBy: '火', overcomeBy: '木' },
      '金': { generate: '水', overcome: '木', generatedBy: '土', overcomeBy: '火' },
      '水': { generate: '木', overcome: '火', generatedBy: '金', overcomeBy: '土' }
    };
    
    // 月份地支对照
    this.monthBranches = {
      1: '寅', 2: '卯', 3: '辰', 4: '巳',
      5: '午', 6: '未', 7: '申', 8: '酉',
      9: '戌', 10: '亥', 11: '子', 12: '丑'
    };
    
    // 时辰地支对照
    this.hourBranches = {
      0: '子', 1: '丑', 2: '寅', 3: '卯',
      4: '辰', 5: '巳', 6: '午', 7: '未',
      8: '申', 9: '酉', 10: '戌', 11: '亥'
    };
  }
  
  // 计算年柱
  calculateYearColumn(year) {
    // 计算年天干：(year - 4) % 10
    const stemIndex = (year - 4) % 10;
    if (stemIndex < 0) stemIndex += 10;
    const stem = this.HEAVENLY_STEMS[stemIndex];
    
    // 计算年地支：(year - 4) % 12
    const branchIndex = (year - 4) % 12;
    if (branchIndex < 0) branchIndex += 12;
    const branch = this.EARTHLY_BRANCHES[branchIndex];
    
    return {
      stem: stem,
      branch: branch,
      element: this.stemElements[stem],
      yinYang: this.stemYinYang[stem]
    };
  }
  
  // 计算月柱
  calculateMonthColumn(year, month) {
    // 年上起月法：甲己之年丙作首，乙庚之岁戊为头...
    const yearStem = this.calculateYearColumn(year).stem;
    const yearStemIndex = this.HEAVENLY_STEMS.indexOf(yearStem);
    
    // 月支
    const branch = this.monthBranches[month];
    
    // 计算月干
    const monthStemStarts = {
      0: 2, // 甲年，丙作首
      1: 4, // 乙年，戊为头
      2: 6, // 丙年，庚寅起
      3: 8, // 丁年，壬寅寻
      4: 0, // 戊年，甲寅首
      5: 2, // 己年，丙寅起
      6: 4, // 庚年，戊寅起
      7: 6, // 辛年，庚寅首
      8: 8, // 壬年，壬寅行
      9: 0  // 癸年，甲寅定
    };
    
    const startIndex = monthStemStarts[yearStemIndex];
    const branchIndex = this.EARTHLY_BRANCHES.indexOf(branch);
    const stemIndex = (startIndex + branchIndex) % 10;
    const stem = this.HEAVENLY_STEMS[stemIndex];
    
    return {
      stem: stem,
      branch: branch,
      element: this.stemElements[stem],
      yinYang: this.stemYinYang[stem]
    };
  }
  
  // 计算日柱（简化版，实际需要复杂算法）
  calculateDayColumn(year, month, day) {
    // 注意：这是一个简化版本，实际日柱计算需要复杂公式
    // 这里使用1900-1-31为基准日的简化算法
    const baseDate = new Date(1900, 0, 31);
    const currentDate = new Date(year, month - 1, day);
    const diffDays = Math.floor((currentDate - baseDate) / (24 * 60 * 60 * 1000));
    
    const stemIndex = diffDays % 10;
    const branchIndex = diffDays % 12;
    
    const stem = this.HEAVENLY_STEMS[stemIndex];
    const branch = this.EARTHLY_BRANCHES[branchIndex];
    
    return {
      stem: stem,
      branch: branch,
      element: this.stemElements[stem],
      yinYang: this.stemYinYang[stem]
    };
  }
  
  // 计算时柱
  calculateHourColumn(dayStem, hour) {
    // 日上起时法
    const dayStemIndex = this.HEAVENLY_STEMS.indexOf(dayStem);
    
    // 甲己还加甲，乙庚丙作初...
    const hourStemStarts = {
      0: 0, // 甲日，甲子时
      1: 2, // 乙日，丙子时
      2: 4, // 丙日，戊子时
      3: 6, // 丁日，庚子时
      4: 8, // 戊日，壬子时
      5: 0, // 己日，甲子时
      6: 2, // 庚日，丙子时
      7: 4, // 辛日，戊子时
      8: 6, // 壬日，庚子时
      9: 8  // 癸日，壬子时
    };
    
    const startIndex = hourStemStarts[dayStemIndex];
    const hourIndex = Math.floor(hour / 2) % 12;
    const stemIndex = (startIndex + hourIndex) % 10;
    const stem = this.HEAVENLY_STEMS[stemIndex];
    const branch = this.hourBranches[hourIndex];
    
    return {
      stem: stem,
      branch: branch,
      element: this.stemElements[stem],
      yinYang: this.stemYinYang[stem]
    };
  }
  
  // 计算完整八字
  calculateBazi(year, month, day, hour) {
    const yearColumn = this.calculateYearColumn(year);
    const monthColumn = this.calculateMonthColumn(year, month);
    const dayColumn = this.calculateDayColumn(year, month, day);
    const hourColumn = this.calculateHourColumn(dayColumn.stem, hour);
    
    return {
      year: yearColumn,
      month: monthColumn,
      day: dayColumn,
      hour: hourColumn,
      dayMaster: dayColumn.stem, // 日主
      dayMasterElement: dayColumn.element, // 日主五行
      dayMasterYinYang: dayColumn.yinYang, // 日主阴阳
      dayBranch: dayColumn.branch // 日支
    };
  }
  
  // 获取地支藏干
  getHiddenStems(branch) {
    return this.branchHiddenStems[branch] || [];
  }
  
  // 计算十神
  calculateTenGods(dayMaster, target) {
    const dayMasterStem = typeof dayMaster === 'object' ? dayMaster.stem : dayMaster;
    const targetStem = typeof target === 'object' ? target.stem : target;
    
    const dayMasterElement = this.stemElements[dayMasterStem];
    const targetElement = this.stemElements[targetStem];
    const dayMasterYinYang = this.stemYinYang[dayMasterStem];
    const targetYinYang = this.stemYinYang[targetStem];
    
    const isSameElement = dayMasterElement === targetElement;
    const isSameYinYang = dayMasterYinYang === targetYinYang;
    
    // 确定关系
    let relation = '';
    if (isSameElement) {
      relation = isSameYinYang ? '比肩' : '劫财';
    } else {
      const elementRel = this.elementRelations[dayMasterElement];
      
      if (targetElement === elementRel.generatedBy) {
        relation = isSameYinYang ? '偏印' : '正印';
      } else if (targetElement === elementRel.overcomeBy) {
        relation = isSameYinYang ? '七杀' : '正官';
      } else if (targetElement === elementRel.generate) {
        relation = isSameYinYang ? '食神' : '伤官';
      } else if (targetElement === elementRel.overcome) {
        relation = isSameYinYang ? '偏财' : '正财';
      }
    }
    
    return relation;
  }
  
  // 计算日支坐下十神
  calculateDayBranchTenGod(dayMaster, dayBranch) {
    const hiddenStems = this.getHiddenStems(dayBranch);
    if (hiddenStems.length === 0) return null;
    
    // 取本气（第一个藏干）
    const mainHiddenStem = hiddenStems[0];
    return this.calculateTenGods(dayMaster, mainHiddenStem);
  }
  
  // 统计十神数量
  countTenGods(bazi) {
    const counts = {
      '比肩': 0, '劫财': 0, '食神': 0, '伤官': 0,
      '正财': 0, '偏财': 0, '正官': 0, '七杀': 0,
      '正印': 0, '偏印': 0
    };
    
    // 统计天干十神
    const columns = [bazi.year, bazi.month, bazi.day, bazi.hour];
    columns.forEach(column => {
      const tenGod = this.calculateTenGods(bazi.dayMaster, column.stem);
      if (tenGod && counts.hasOwnProperty(tenGod)) {
        counts[tenGod]++;
      }
    });
    
    // 统计地支藏干十神
    columns.forEach(column => {
      const hiddenStems = this.getHiddenStems(column.branch);
      hiddenStems.forEach(stem => {
        const tenGod = this.calculateTenGods(bazi.dayMaster, stem);
        if (tenGod && counts.hasOwnProperty(tenGod)) {
          counts[tenGod]++;
        }
      });
    });
    
    return counts;
  }
  
  // 判断日主旺衰（简化版）
  judgeStrength(bazi) {
    const dayElement = bazi.dayMasterElement;
    const dayYinYang = bazi.dayMasterYinYang;
    
    // 统计生扶力量
    let support = 0;
    // 统计克泄力量
    let weaken = 0;
    
    // 计算天干
    const columns = [bazi.year, bazi.month, bazi.day, bazi.hour];
    columns.forEach(column => {
      const element = this.stemElements[column.stem];
      const relation = this.calculateTenGods(bazi.dayMaster, column.stem);
      
      if (['比肩', '劫财', '正印', '偏印'].includes(relation)) {
        support++;
      } else if (['正官', '七杀', '食神', '伤官', '正财', '偏财'].includes(relation)) {
        weaken++;
      }
    });
    
    // 计算地支藏干
    columns.forEach(column => {
      const hiddenStems = this.getHiddenStems(column.branch);
      hiddenStems.forEach(stem => {
        const relation = this.calculateTenGods(bazi.dayMaster, stem);
        if (['比肩', '劫财', '正印', '偏印'].includes(relation)) {
          support++;
        } else if (['正官', '七杀', '食神', '伤官', '正财', '偏财'].includes(relation)) {
          weaken++;
        }
      });
    });
    
    // 判断旺衰
    if (support > weaken + 2) {
      return '身旺';
    } else if (weaken > support + 2) {
      return '身弱';
    } else {
      return '身中和';
    }
  }
  
  // 判断特殊格局
  checkSpecialPatterns(bazi) {
    const patterns = [];
    
    // 检查是否全合
    const allColumns = [bazi.year, bazi.month, bazi.day, bazi.hour];
    const allBranches = allColumns.map(col => col.branch);
    
    // 检查四桃花
    const peachBlossoms = ['子', '午', '卯', '酉'];
    const peachCount = allBranches.filter(branch => peachBlossoms.includes(branch)).length;
    if (peachCount >= 2) {
      patterns.push('桃花较多');
    }
    
    // 检查四墓库
    const tombs = ['辰', '戌', '丑', '未'];
    const tombCount = allBranches.filter(branch => tombs.includes(branch)).length;
    if (tombCount >= 2) {
      patterns.push('墓库较多');
    }
    
    // 检查四驿马
    const horses = ['寅', '申', '巳', '亥'];
    const horseCount = allBranches.filter(branch => horses.includes(branch)).length;
    if (horseCount >= 2) {
      patterns.push('驿马星动');
    }
    
    return patterns;
  }
  
  // 生成十神分析
  generateTenGodAnalysis(bazi, tenGodCounts) {
    const analysis = [];
    const strength = this.judgeStrength(bazi);
    
    // 找出最多的十神
    let maxCount = 0;
    let maxTenGods = [];
    
    for (const [tenGod, count] of Object.entries(tenGodCounts)) {
      if (count > maxCount) {
        maxCount = count;
        maxTenGods = [tenGod];
      } else if (count === maxCount && count > 0) {
        maxTenGods.push(tenGod);
      }
    }
    
    // 根据rules.json中的规则2进行分析
    if (maxCount >= 2) {
      maxTenGods.forEach(tenGod => {
        const ruleKey = this.getRuleKeyForTenGod(tenGod);
        if (ruleKey) {
          analysis.push(`八字中${tenGod}较多，${this.getRuleDescription(ruleKey)}`);
        }
      });
    }
    
    return analysis;
  }
  
  // 获取规则键名
  getRuleKeyForTenGod(tenGod) {
    const ruleMap = {
      '正官': '官多贱',
      '七杀': '杀多死',
      '正印': '印多孤',
      '偏印': '枭多凶',
      '食神': '食多愁',
      '伤官': '伤多害',
      '正财': '财多愚',
      '偏财': '才多劳',
      '劫财': '劫多败'
    };
    
    return ruleMap[tenGod] || null;
  }
  
  // 获取规则描述
  getRuleDescription(ruleKey) {
    const rules = {
      '官多贱': '保守、谨慎、胆小怕事，容易贫困、卑贱、老实',
      '杀多死': '容易犯凶、破财、有灾，严重容易死亡或六亲早逝',
      '印多孤': '比较清高、孤傲、孤独、自以为是，不喜社交、记忆力好',
      '枭多凶': '容易有慢性病或隐性疾病',
      '食多愁': '容易莫名其妙的忧愁，总是若有所思、多愁善感，焦虑，担心，压抑，容易得抑郁症，严重容易吸毒焦虑',
      '伤多害': '主莫名其妙跟人发生口舌是非、官非、冲突等',
      '财多愚': '容易反应迟钝、愚味、愚钝，反应慢，做事举棋不定',
      '才多劳': '特别勤奋勤快，劳碌，奔波，行动力强，口才好，花心',
      '劫多败': '容易破财、合作失败或被人骗钱，留不住钱，做事不容易成，小人多'
    };
    
    return rules[ruleKey] || '暂无特定规则描述';
  }
  
  // 生成日支坐下十神分析
  generateDayBranchAnalysis(bazi) {
    const dayBranchTenGod = this.calculateDayBranchTenGod(bazi.dayMaster, bazi.dayBranch);
    if (!dayBranchTenGod) return null;
    
    const strength = this.judgeStrength(bazi);
    
    // 从rules.json中获取日支十神分析
    const rule = this.getDayBranchRule(dayBranchTenGod, strength);
    
    return {
      tenGod: dayBranchTenGod,
      analysis: rule
    };
  }
  
  // 获取日支规则
  getDayBranchRule(tenGod, strength) {
    // 这里应该从rules.json中获取，这里用硬编码示例
    const rules = {
      '正官': {
        '身旺': {
          analysis: '自律守信，领导力强，婚姻稳定，配偶为助力，事业顺遂，易得名望',
          reason: '身旺者喜"克、泄、耗"，官杀（克我）→ 掌权'
        },
        '身弱': {
          analysis: '被规则束缚，焦虑内耗，配偶强势，感到压抑，怕犯错，不敢冒险',
          reason: '身弱见正印、比肩，可转危为安；见财官杀则雪上加霜'
        },
        '身中和': {
          analysis: '端正自律，重规则，责任感强，保守稳重',
          reason: '个性稳定，需根据大运流年调整'
        }
      }
      // 其他十神的规则可以继续添加
    };
    
    return rules[tenGod]?.[strength] || {
      analysis: '需结合具体八字进行详细分析',
      reason: '常规分析'
    };
  }
  
  // 分析八字
  analyzeBazi(year, month, day, hour) {
    // 1. 计算八字
    const bazi = this.calculateBazi(year, month, day, hour);
    
    // 2. 计算十神数量
    const tenGodCounts = this.countTenGods(bazi);
    
    // 3. 判断旺衰
    const strength = this.judgeStrength(bazi);
    
    // 4. 检查特殊格局
    const specialPatterns = this.checkSpecialPatterns(bazi);
    
    // 5. 生成日支坐下十神分析
    const dayBranchAnalysis = this.generateDayBranchAnalysis(bazi);
    
    // 6. 生成十神数量分析
    const tenGodAnalysis = this.generateTenGodAnalysis(bazi, tenGodCounts);
    
    // 7. 组装结果
    return {
      bazi: bazi,
      tenGodCounts: tenGodCounts,
      strength: strength,
      specialPatterns: specialPatterns,
      dayBranchAnalysis: dayBranchAnalysis,
      tenGodAnalysis: tenGodAnalysis,
      summary: this.generateSummary(bazi, strength, tenGodCounts, dayBranchAnalysis, tenGodAnalysis)
    };
  }
  
  // 生成总结
  generateSummary(bazi, strength, tenGodCounts, dayBranchAnalysis, tenGodAnalysis) {
    const summary = [];
    
    // 八字基本信息
    summary.push(`八字：${bazi.year.stem}${bazi.year.branch} ${bazi.month.stem}${bazi.month.branch} ${bazi.day.stem}${bazi.day.branch} ${bazi.hour.stem}${bazi.hour.branch}`);
    summary.push(`日主：${bazi.dayMaster}（${bazi.dayMasterElement} ${bazi.dayMasterYinYang}）`);
    summary.push(`旺衰：${strength}`);
    
    // 日支十神分析
    if (dayBranchAnalysis) {
      summary.push(`日支坐下十神：${dayBranchAnalysis.tenGod}`);
      summary.push(`日支分析：${dayBranchAnalysis.analysis.analysis}`);
    }
    
    // 十神数量分析
    if (tenGodAnalysis.length > 0) {
      summary.push('十神数量分析：');
      tenGodAnalysis.forEach(item => {
        summary.push(`  - ${item}`);
      });
    }
    
    // 十神统计
    summary.push('十神统计：');
    for (const [tenGod, count] of Object.entries(tenGodCounts)) {
      if (count > 0) {
        summary.push(`  ${tenGod}: ${count}个`);
      }
    }
    
    return summary;
  }
  
  // 生成完整分析报告
  generateFullReport(analysisResult, gender) {
    const bazi = analysisResult.bazi;
    const report = {
      basicInfo: {
        bazi: `${bazi.year.stem}${bazi.year.branch} ${bazi.month.stem}${bazi.month.branch} ${bazi.day.stem}${bazi.day.branch} ${bazi.hour.stem}${bazi.hour.branch}`,
        dayMaster: bazi.dayMaster,
        dayMasterElement: bazi.dayMasterElement,
        strength: analysisResult.strength,
        gender: gender === 'male' ? '男' : '女'
      },
      traditionalAnalysis: this.generateTraditionalAnalysis(analysisResult, gender),
      modernAnalysis: this.generateModernAnalysis(analysisResult, gender),
      warnings: this.generateWarnings(analysisResult)
    };
    
    return report;
  }
  
  // 生成传统分析
  generateTraditionalAnalysis(analysisResult, gender) {
    const analysis = [];
    const bazi = analysisResult.bazi;
    
    // 1. 日主分析
    analysis.push(`日主为${bazi.dayMaster}（${bazi.dayMasterElement} ${bazi.dayMasterYinYang}），${analysisResult.strength}。`);
    
    // 2. 日支坐下十神分析
    if (analysisResult.dayBranchAnalysis) {
      const dayBranch = analysisResult.dayBranchAnalysis;
      analysis.push(`日支为${bazi.dayBranch}，坐下${dayBranch.tenGod}。${dayBranch.analysis.analysis}`);
    }
    
    // 3. 十神数量分析
    if (analysisResult.tenGodAnalysis.length > 0) {
      analysis.push('十神数量分析：');
      analysisResult.tenGodAnalysis.forEach(item => {
        analysis.push(`- ${item}`);
      });
    }
    
    // 4. 特殊格局
    if (analysisResult.specialPatterns.length > 0) {
      analysis.push(`特殊格局：${analysisResult.specialPatterns.join('，')}`);
    }
    
    return analysis;
  }
  
  // 生成现代分析
  generateModernAnalysis(analysisResult, gender) {
    const analysis = [];
    const bazi = analysisResult.bazi;
    
    // 转换为现代解读语言
    analysis.push('## 现代人生规划解读');
    analysis.push('');
    analysis.push('### 先天特质评估');
    analysis.push(`根据出生时间规律分析，日主为${bazi.dayMaster}（${bazi.dayMasterElement}属性），呈现出${this.getModernTrait(bazi.dayMasterElement)}的先天特质。`);
    
    analysis.push('');
    analysis.push('### 能量模式分析');
    analysis.push(`评估显示为${analysisResult.strength}的倾向，这提示了您在应对生活挑战时可能表现出${this.getStrengthTrait(analysisResult.strength)}的特点。`);
    
    // 日支十神的现代解读
    if (analysisResult.dayBranchAnalysis) {
      const dayBranch = analysisResult.dayBranchAnalysis;
      analysis.push('');
      analysis.push('### 核心关系模式');
      analysis.push(`在重要关系（如亲密关系、合作关系）中，有一种可能性是表现出${this.getModernRelationTrait(dayBranch.tenGod)}的特征。`);
    }
    
    // 十神数量的现代解读
    if (analysisResult.tenGodAnalysis.length > 0) {
      analysis.push('');
      analysis.push('### 特质分布分析');
      analysisResult.tenGodAnalysis.forEach(item => {
        analysis.push(`- ${this.convertToModernLanguage(item)}`);
      });
    }
    
    analysis.push('');
    analysis.push('### 发展建议参考');
    analysis.push('1. 建议关注个人优势领域的深度发展');
    analysis.push('2. 在关系互动中注重平衡与沟通');
    analysis.push('3. 建立与能量模式相匹配的工作生活节奏');
    analysis.push('4. 定期进行自我反思和调整');
    
    return analysis;
  }
  
  // 生成警告信息
  generateWarnings(analysisResult) {
    const warnings = [];
    
    // 检查七杀
    if (analysisResult.tenGodCounts['七杀'] >= 2) {
      warnings.push('七杀较多，参考提示：此阶段在压力和挑战管理上需特别注意，建议建立有效的压力释放机制。');
    }
    
    // 检查伤官
    if (analysisResult.tenGodCounts['伤官'] >= 2) {
      warnings.push('伤官较多，参考提示：在人际沟通和情绪表达方面需特别注意平衡，避免不必要的冲突。');
    }
    
    // 检查劫财
    if (analysisResult.tenGodCounts['劫财'] >= 2) {
      warnings.push('劫财较多，参考提示：在财务合作和资源管理方面需更加审慎，建议建立清晰的边界。');
    }
    
    if (warnings.length === 0) {
      warnings.push('无明显特殊需要注意的领域。请结合实际情况综合分析。');
    }
    
    return warnings;
  }
  
  // 辅助方法：转换为现代语言
  convertToModernLanguage(traditionalText) {
    const conversions = {
      '官多贱': '在规则遵守和权威应对方面可能需要更多弹性',
      '杀多死': '在高压环境下可能需要更强的压力管理能力',
      '印多孤': '在独立思考和社交互动之间可能需要更多平衡',
      '枭多凶': '在健康维护和压力管理方面可能需要更多关注',
      '食多愁': '在情绪管理和心理调适方面可能需要更多支持',
      '伤多害': '在沟通表达和冲突处理方面可能需要更多技巧',
      '财多愚': '在决策速度和深度思考之间可能需要更多平衡',
      '才多劳': '在工作投入和生活平衡方面可能需要更多规划',
      '劫多败': '在合作边界和资源管理方面可能需要更多注意'
    };
    
    for (const [key, value] of Object.entries(conversions)) {
      if (traditionalText.includes(key)) {
        return value;
      }
    }
    
    return traditionalText;
  }
  
  // 获取现代特质描述
  getModernTrait(element) {
    const traits = {
      '木': '生长型、适应性强、有韧性',
      '火': '热情型、行动力强、善于表达',
      '土': '稳定型、务实可靠、注重基础',
      '金': '锐利型、目标明确、执行力强',
      '水': '流动型、思维敏捷、适应变化'
    };
    
    return traits[element] || '多样复合型';
  }
  
  // 获取旺衰特质
  getStrengthTrait(strength) {
    const traits = {
      '身旺': '较强的主动性和抗压能力，但也需要注意适当收敛和调整',
      '身弱': '较强的敏感性和适应性，但也需要注意能量保存和自我支持',
      '身中和': '较好的平衡性和适应性，能够在不同情境中灵活调整'
    };
    
    return traits[strength] || '具有独特性';
  }
  
  // 获取关系特质
  getModernRelationTrait(tenGod) {
    const traits = {
      '正官': '重视规则和责任感，在关系中倾向于建立明确的界限和期待',
      '七杀': '较强的领导力和决断力，在关系中可能表现出较强的主动性',
      '正财': '务实和稳定，在关系中注重实际支持和资源共享',
      '偏财': '灵活和机会敏感，在关系中可能表现出较强的适应性和变通性',
      '正印': '关怀和支持，在关系中倾向于提供情感支持和理解',
      '偏印': '独立和深度思考，在关系中可能需要更多个人空间',
      '食神': '创造和表达，在关系中注重共同创造和愉快体验',
      '伤官': '敏锐和创新，在关系中可能表现出较强的个性和独特性',
      '比肩': '平等和合作，在关系中倾向于建立平等互助的模式',
      '劫财': '共享和竞争，在关系中可能需要在合作与边界之间找到平衡'
    };
    
    return traits[tenGod] || '具有个人特色的关系模式';
  }
}

// 创建全局实例
const baziCalculator = new BaziCalculator();

// 导出供其他文件使用
if (typeof module !== 'undefined' && module.exports) {
  module.exports = { BaziCalculator, baziCalculator };
}

{
  "principle1": {
    "title": "日支坐下十神分析原则",
    "description": "根据日支坐下十神的属性，结合日主旺衰，分析日主性情与配偶情况、夫妻关系",
    "rules": {
      "正官": {
        "dayBranches": ["寅", "卯", "子", "亥", "辰", "未", "申", "酉", "午", "巳"],
        "corePersonality": "端正自律，重规则，责任感强，保守稳重",
        "marriageCharacteristics": "日支克日干→ 配偶强势，命主被压制",
        "maleMarriage": "妻子贤惠、持家、有教养",
        "femaleMarriage": "丈夫稳重、有地位、但可能古板；婚姻稳定，但少激情",
        "careerWealth": "适合公职、管理、法律；收入稳定，不喜冒险",
        "health": "注意压力大导致失眠、消化问题",
        "身旺": {
          "positive": ["自律守信，领导力强", "婚姻稳定，配偶为助力", "事业顺遂，易得名望"],
          "reason": "身旺者喜'克、泄、耗'，官杀（克我）→ 掌权"
        },
        "身弱": {
          "negative": ["被规则束缚，焦虑内耗", "配偶强势，感到压抑", "怕犯错，不敢冒险"],
          "solution": "身弱见正印、比肩，可转危为安；见财官杀则雪上加霜"
        }
      },
      "七杀": {
        "dayBranches": ["申", "酉", "子", "亥", "寅", "卯", "午", "巳", "辰", "戌", "丑", "未"],
        "corePersonality": "刚烈果断，魄力强，叛逆，嫉恶如仇，人生起伏大",
        "marriageCharacteristics": "日支克日干→ 配偶强势，命主被压制",
        "maleMarriage": "怕老婆或感情被动；妻强势、能干，但易争执",
        "femaleMarriage": "丈夫个性强、有魄力，但婚姻多波折，易口舌是非",
        "careerWealth": "适合军警、创业、高风险行业；成则大贵，败则大损",
        "health": "易有外伤、手术、突发性疾病",
        "身旺": {
          "positive": ["果断有魄力，能掌权", "配偶能干，助事业", "适合创业、军警、高管"],
          "reason": "身旺者喜'克、泄、耗'，官杀（克我）→ 掌权"
        },
        "身弱": {
          "negative": ["长期高压，身心俱疲", "配偶控制欲强，婚姻冲突多", "易遇小人、官司、意外"],
          "solution": "身弱见正印、比肩，可转危为安；见财官杀则雪上加霜"
        }
      },
      "正财": {
        "dayBranches": ["戌", "未", "申", "酉", "子", "亥", "寅", "卯", "午", "巳"],
        "corePersonality": "务实节俭，重家庭，忠诚可靠，不喜欢变动",
        "marriageCharacteristics": "日支克日干→ 配偶强势，命主被压制",
        "maleMarriage": "妻温柔顾家，善理财",
        "femaleMarriage": "夫踏实肯干，经济稳定；婚姻平淡但长久",
        "careerWealth": "收入稳定，靠工资或实业积累；不喜投机",
        "health": "身体敦实，注意血脂、血糖",
        "身旺": {
          "positive": ["善理财，收入丰厚", "配偶贤惠，家庭和睦", "守业能力强"],
          "reason": "身旺者喜'克、泄、耗'，财星（耗我）→ 财富积累"
        },
        "身弱": {
          "negative": ["赚钱辛苦，守不住财", "为钱财焦虑，婚姻因经济紧张", "易因贪财受损"],
          "solution": "身弱者需加强自身能量，避免过度追求财富"
        }
      },
      "偏财": {
        "dayBranches": ["辰", "戌", "丑", "未", "申", "酉", "子", "亥", "寅", "卯", "午", "巳"],
        "corePersonality": "慷慨大方，善交际，机会主义，喜欢冒险",
        "marriageCharacteristics": "日支克日干→ 配偶强势，命主被压制",
        "maleMarriage": "异性缘旺，易有婚外情；妻子能干，但可能不安分",
        "femaleMarriage": "夫风流或多金，婚姻需防第三者",
        "careerWealth": "财来财去，善抓机遇；适合投资、贸易、销售",
        "health": "性欲强，注意泌尿、肾气",
        "身旺": {
          "positive": ["投资眼光准，偏财旺", "异性缘佳但可控", "生活潇洒，朋友众多"],
          "reason": "身旺者喜'克、泄、耗'，财星（耗我）→ 财富积累"
        },
        "身弱": {
          "negative": ["赌博、投机致破财", "桃花劫，婚姻不稳", "被朋友拖累，人财两空"],
          "solution": "身弱者需谨慎投资，避免过度冒险"
        }
      },
      "正印": {
        "dayBranches": ["子", "亥", "寅", "卯", "午", "巳", "辰", "未", "申", "酉"],
        "corePersonality": "仁慈善良，好学深思，依赖性强，重精神",
        "marriageCharacteristics": "日支生日干→ 配偶帮扶，命主受益",
        "maleMarriage": "妻文静、有学识，像母亲般照顾你",
        "femaleMarriage": "夫稳重、有文化，但可能缺乏激情",
        "careerWealth": "适合教育、文化、宗教；收入平稳，贵人提携",
        "health": "体质偏弱，易疲劳，注意脾胃",
        "身旺": {
          "negative": ["思想保守，依赖经验", "配偶过度照顾，缺乏激情", "错失机会，行动迟缓"],
          "reason": "印旺身更旺，需加强行动力"
        },
        "身弱": {
          "positive": ["贵人扶持，学业有成", "配偶温柔，提供安全感", "心灵安定，抗压增强"],
          "reason": "身弱者喜'生、扶'，印星（生我）→ 贵人、学识"
        }
      },
      "偏印": {
        "dayBranches": ["子", "亥", "寅", "卯", "午", "巳", "辰", "戌", "丑", "未", "申", "酉"],
        "corePersonality": "孤僻敏感，直觉强，多才艺但不专精，清高",
        "marriageCharacteristics": "日支生日干→ 配偶帮扶，命主受益",
        "maleMarriage": "妻个性独特、思想深邃，但沟通难",
        "femaleMarriage": "夫神秘、有才华，但情感疏离",
        "careerWealth": "适合艺术、玄学、技术；收入不稳定，靠独特技能",
        "health": "神经敏感，易失眠、焦虑",
        "身旺": {
          "negative": ["思想偏激，孤僻难近", "配偶神秘疏离，沟通障碍", "才华被埋没"],
          "reason": "枭神夺食，需加强社交能力"
        },
        "身弱": {
          "positive": ["直觉敏锐，擅长玄学/艺术", "配偶独特，精神契合", "危机中靠灵感脱困"],
          "reason": "身弱者喜'生、扶'，印星（生我）→ 贵人、学识"
        }
      },
      "伤官": {
        "dayBranches": ["午", "巳", "寅", "卯", "申", "酉", "子", "亥", "辰", "戌", "丑", "未"],
        "corePersonality": "聪明傲气，口才好，不服管，追求自由",
        "marriageCharacteristics": "日支克日干→ 配偶强势，命主被压制",
        "maleMarriage": "容易克妻，婚姻不顺；妻子漂亮但任性",
        "femaleMarriage": "容易克夫，易离婚；挑剔配偶，感情多变",
        "careerWealth": "才华横溢，适合艺术、创意；收入波动大",
        "health": "情绪不稳，注意妇科、呼吸系统",
        "身旺": {
          "positive": ["才华横溢，名利双收", "配偶欣赏其个性", "创新突破，引领潮流"],
          "reason": "身旺者喜'克、泄、耗'，食伤（泄我）→ 才华发挥"
        },
        "身弱": {
          "negative": ["言语尖锐，得罪权威", "婚姻冲突，易离婚", "情绪失控，健康受损"],
          "solution": "需加强情绪管理，避免冲动决策"
        }
      },
      "食神": {
        "dayBranches": ["午", "巳", "辰", "戌", "丑", "未", "申", "酉", "子", "亥", "寅", "卯"],
        "corePersonality": "温和随和，乐观豁达，爱美食，有才艺",
        "marriageCharacteristics": "日支生日干→ 配偶帮扶，命主受益",
        "maleMarriage": "妻胖、贤惠、厨艺好",
        "femaleMarriage": "易怀孕、多子女；配偶包容，婚姻和谐",
        "careerWealth": "收入稳定，靠技艺或口才；喜欢请客，花钱大方",
        "health": "容易发胖，注意三高、糖尿病",
        "身旺": {
          "positive": ["才艺变现，生活富足", "婚姻和谐，夫妻恩爱", "乐观豁达，人缘极佳"],
          "reason": "身旺者喜'克、泄、耗'，食伤（泄我）→ 才华发挥"
        },
        "身弱": {
          "negative": ["精力不足，懒散拖延", "为家庭过度付出，身心耗竭", "花钱无度，经济拮据"],
          "solution": "需加强自律，合理规划财务"
        }
      },
      "比肩": {
        "dayBranches": ["寅", "卯", "午", "巳", "辰", "戌", "丑", "未", "申", "酉", "子", "亥"],
        "corePersonality": "自信独立，刚强固执，朋友多，但易争强好胜",
        "marriageCharacteristics": "日支同日干→ 平等但竞争",
        "maleMarriage": "夫妻如兄弟，平等但少亲密；比肩多克妻",
        "femaleMarriage": "控制欲强，常主导婚姻",
        "careerWealth": "合伙创业佳，但易分利不均；收入靠自身努力",
        "health": "精力旺盛，长寿，注意肝胆",
        "身旺": {
          "negative": ["合作破财，朋友背叛", "配偶争强，家庭不和", "孤军奋战，无人相助"],
          "solution": "需加强团队协作，避免过度自我"
        },
        "身弱": {
          "positive": ["合伙成功，朋友可靠", "婚姻平等，互相支持", "自信独立，抗压强"],
          "reason": "身弱者喜'生、扶'，比劫（扶我）→ 朋友、合作"
        }
      },
      "劫财": {
        "dayBranches": ["寅", "卯", "午", "巳", "辰", "戌", "丑", "未", "申", "酉", "子", "亥"],
        "corePersonality": "讲义气，冲动，花钱大方，易被朋友拖累",
        "marriageCharacteristics": "日支同日干→ 平等但竞争",
        "maleMarriage": "容易克妻，婚姻不顺；妻个性强，易因朋友影响婚姻",
        "femaleMarriage": "丈夫易被他人分走注意力；婚姻有竞争",
        "careerWealth": "财来财去，易破财；适合合作但需防背信",
        "health": "易有意外破财、纠纷",
        "身旺": {
          "negative": ["花钱如流水，投资失误", "因朋友损财，婚姻受干扰", "争强好胜，树敌多"],
          "solution": "需加强财务管理，谨慎交友"
        },
        "身弱": {
          "negative": ["被人抢夺资源（职位、配偶）", "经济困顿，常借钱度日", "情感被第三者介入"],
          "solution": "需加强自我保护，避免过度信任他人"
        }
      }
    },
    "specialCases": {
      "四桃花": ["子", "午", "卯", "酉"],
      "四墓库": ["辰", "戌", "丑", "未"],
      "四驿马": ["寅", "申", "巳", "亥"]
    }
  },
  "principle2": {
    "title": "十神数量分析原则",
    "description": "八字中哪个十神多，就代表哪个十神作用力大，对命主的人产生影响比较明显",
    "rules": {
      "官多贱": "八字正官太多的人：保守、谨慎、胆小怕事，容易贫困、卑贱、老实",
      "杀多死": "八字偏官(七杀)太多的人：容易犯凶、破财、有灾，严重容易死亡或六亲早逝",
      "印多孤": "八字正印太多的人：比较清高、孤傲、孤独、自以为是，不喜社交、记忆力好",
      "枭多凶": "八字偏印(枭神)太多：容易有慢性病或隐性疾病",
      "食多愁": "八字食神太多：容易莫名其妙的忧愁，总是若有所思、多愁善感，焦虑，担心，压抑，容易得抑郁症，严重容易吸毒焦虑",
      "伤多害": "八字伤官太多：主莫名其妙跟人发生口舌是非、官非、冲突等",
      "财多愚": "八字正财太多的人：容易反应迟钝、愚味、愚钝，反应慢，做事举棋不定",
      "才多劳": "八字偏财太多的人：特别勤奋勤快，劳碌，奔波，行动力强，口才好，花心",
      "劫多败": "八字劫财太多：容易破财、合作失败或被人骗钱，留不住钱，做事不容易成，小人多",
      "禄多贫": "八字坐下禄星太多：容易贫困，难以发财",
      "刃多残": "八字羊刃太多之人：都有残伤，容易受伤，容易血光、四肢受伤，骨骼不健全",
      "马多奔波": "八字驿马(寅申巳亥)多之人：一生奔波、劳碌、勤快、好动、闲不住",
      "冲多不安": "八字地支六冲(辰戌、丑未、子午、卯酉、寅申、巳亥)和天干相冲(甲庚、乙辛、丙壬、丁癸)太多人生颠沛流离，一生不安",
      "合多热情": "八字三合六合多之人：内心热情，愿意帮助人",
      "阳多坦荡": "八字阳干阳支多之人：相对坦荡，光明正大",
      "阴多深沉": "八字阴干阴支多之人：相对深沉，心眼多，想事情容易想到负面",
      "无官少压力": "八字不见正官之人：不喜欢承担太大压力，活的比较简单或有点不负责任，比较散漫",
      "无印少福气": "八字不见印星之人：没有福气、贵人，凡事靠自己",
      "无杀不威风": "八字不见七杀之人：缺乏霸气，不喜欢出风头",
      "无财不实在": "八字不见财星之人：不实在，答应的事情不一定会兑现",
      "无根难自立": "八字不见根的：很难单干，喜欢依附别人",
      "无伤不新奇": "八字不见食伤之人：玩不出新花样，一成不变",
      "无刃不霸气": "八字不见羊刃不够霸气",
      "四凶神无制化": {
        "description": "为人奸诈、机警多变，很难相处",
        "cases": [
          "比劫、伤官为忌无制：为人小气、吝啬，喜欢占便宜，人见人嫌，臭名远扬",
          "偏印、伤官为忌无制：口舌是非，说话尖酸刻薄，心胸狭隘，报复心强",
          "偏印、劫财为忌无制：懒惰，不劳而获，心比天高，喜欢玩弄鬼点子，喜欢诈骗",
          "七杀、伤官为忌无制：不务正业，狐朋狗友，叛逆社会，流氓，坑蒙拐骗"
        ]
      }
    }
  },
  "principle3": {
    "title": "天干十神看外在性格",
    "description": "天干主对外心性，主对外呈现的特征地支主内在性格特征",
    "rules": {
      "rule1": "天干透食神，正财，正官，正印之人一般外在墩厚老实，好说话，给人感觉实在，端正",
      "rule2": "地支藏正官，正印，正财，食神之人内心比较善良，即使外在不好也是刀子嘴豆腐心",
      "rule3": "天干透七杀，劫财，伤官且为忌神一般个性刚烈，强势，霸道",
      "rule4": "地支藏七杀，伤官，劫财且无制，此种人内心比较狠"
    }
  },
  "principle4": {
    "title": "断命技巧和方法",
    "description": "综合分析八字的各种技巧和方法",
    "rules": {
      "rule1": "看哪个宫或者哪个十神被破坏(地支相破、地支相害、地支相刑)",
      "rule2": "看地支相刑和地支相害，尤其是见丑未戌三刑、寅巳申三刑基本都出点问题",
      "rule3": "学历主要看正印和食神、如果都没有，一般学历不高",
      "rule4": "看学历先看印星，印星在年月学历高，在时上学历偏低",
      "rule5": "八字金水旺的人适合学理科。八字木火旺的人适合学文科",
      "rule6": "八字中地支会作用到天干，但是天干不会做用到地支(日主除外)",
      "rule7": "一般自己的日主和坐下不能受伤严重，如受伤严重问题会出现在自己身上",
      "rule8": "比劫重重，火土一片，金寒水冷，伤官为忌，结党为事",
      "rule9": "六亲谁要藏在库里就长得不好看，子午卯酉长得不错",
      "rule10": "星和宫的作用，代表此人跟你的吉凶好坏的关系，相生相合主跟你关系好，相刑相穿跟你关系不好",
      "rule11": "坐下辰戌丑未都不喜欢麻烦别人，有寡孤独之象，内心孤孤独",
      "rule12": "坐下食神一般都活在比较自由的生活环境中",
      "rule13": "坐下寅巳申亥为四驿马，为跑动之象，特别好动，女性嫁到外地或不跟父母住在一起，有背井离家之象"
    }
  },
  "principle5": {
    "title": "阳多阴多原则",
    "description": "八字阳干阳支多与阴干阴支多的性格特征",
    "rules": {
      "阳多": "八字阳干阳支多之人相对坦荡，光明正大",
      "阴多": "八字阴干阴支多之人相对深沉，心眼多",
      "木火多": "性格偏奔放、直接明了",
      "金水多": "性格阴沉、表里不一、有手段"
    }
  },
  "principle6": {
    "title": "七杀优先原则",
    "description": "有杀先看杀，七杀为第一凶神",
    "rules": {
      "rule1": "八字有杀先制杀，制杀得贵",
      "rule2": "杀无制得灾，七杀无制，命不久矣"
    }
  },
  "principle7": {
    "title": "成就事业原则",
    "description": "用印绶、食伤、比劫作为主体去获取财星和官杀",
    "rules": {
      "主体工具": ["印绶(父母、头脑、背景、人脉、知识)", "食伤(才华、技术、口才、灵感、创意)", "比劫(团队、合作伙伴、手下员工、股东)"],
      "客体目的": ["财星(财富、食物、肉欲、美色)", "官杀(权力、地位、名气、影响力)"],
      "说明": "主体工具与客体目的的匹配程度决定此八字是否能成就事业"
    }
  },
  "principle8": {
    "title": "十二种格局心性",
    "description": "特殊格局对应的性格特征",
    "patterns": {
      "有人缘的命格": {
        "condition": "八字全合的命格",
        "character": "性情温和，言语柔和，颜面祥和，纵使与人发生矛盾，也是以和为贵"
      },
      "有口才的命格": {
        "condition": "身旺伤旺而生财的命格",
        "character": "头脑反应快，表达能力好，言语具有杀伤力和穿透力，说服力强"
      },
      "有口福的命格": {
        "condition": "身旺而食神吐秀的命格",
        "character": "不仅能吃、有吃、会吃，最关键还是其身体上能够承受得住"
      },
      "有主见的命格": {
        "condition": "身旺坐食伤而生财的命格",
        "character": "易在行为上坚持自己的观点，易在内心里坚持自己的观点"
      },
      "喜做梦的命格": {
        "condition": "身弱伤官旺而无财的命格",
        "character": "想入非非、胡思乱想、白日做梦、痴心妄想"
      },
      "固执的命格": {
        "condition": "枭神夺食的命格",
        "character": "不仅想法错误，而且思想上还转不过弯来"
      },
      "善应变的命格": {
        "condition": "从儿格",
        "character": "思维异常敏捷、头脑异常灵活、口齿异常伶俐"
      },
      "偏激的命格": {
        "condition": "杀旺无印而杀比相战的命局",
        "character": "危机感强、警觉性特高，为了去除心中的隐患，往往先发制人"
      },
      "讲诚信的命格": {
        "condition": "稼穑格（全局皆土）",
        "character": "最讲诚信"
      },
      "慈悲的命格": {
        "condition": "命局正印为用而无杀",
        "character": "有同情怜悯之心"
      },
      "博学多才的命格": {
        "condition": "伤官佩印的命格",
        "character": "博学多才"
      },
      "疑神疑鬼的命格": {
        "condition": "官杀旺而身弱印弱的命格",
        "character": "疑神疑鬼、疑人偷斧而很让人受不了"
      }
    }
  },
  "analysisFramework": {
    "traditional": {
      "title": "传统分析方法",
      "steps": [
        "判断是否为从格",
        "分析日支坐下十神",
        "分析十神数量分布",
        "分析天干十神外在性格",
        "结合旺衰进行综合判断"
      ]
    },
    "modern": {
      "title": "现代人生规划解读",
      "framework": [
        "先天特质与后天发展的整合性评估",
        "内在优势图谱",
        "关键领域建议",
        "行动与调整建议"
      ],
      "disclaimer": "本解读基于传统文化符号系统及大量案例的统计模型进行趋势分析，仅供参考，不构成任何决策依据。请您理性看待，结合现实情况独立判断。"
    }
  },
  "termTranslation": {
    "八字": "出生信息",
    "命理": "出生时间规律",
    "运势": "发展趋势",
    "用神": "优势潜能或能量增益点",
    "忌神": "需留意领域或能量消耗点",
    "喜神": "支持性环境",
    "劫难/灾祸": "挑战期或压力窗口",
    "化解/改运": "优化策略或能量调整建议"
  },
  "languageStyle": {
    "prohibited": ["必破财", "肯定成功", "一定", "必然", "绝对"],
    "recommended": ["分析显示", "参考建议", "有一种可能性是", "建议重点关注", "可能", "或许", "可以考虑"],
    "examples": {
      "before": "此阶段必破财",
      "after": "分析显示，此阶段在财务规划上需更加审慎"
    }
    {
  "正官": {
    "advantage": "端正自律，责任感强，适合规则明确的环境；具备天然的领导气质与组织能力。",
    "advice": "事业上可向管理、公职、法律方向发展；婚姻中配偶可能较为稳重，关系稳定但需主动增进情感交流。",
    "action": "建议培养情绪表达能力，避免过度压抑；可定期进行压力管理训练如冥想或运动。"
  },
  "七杀": {
    "advantage": "魄力强，行动果断，抗压能力突出；在危机中能迅速做出决策。",
    "advice": "适合创业、军警、高风险高回报行业；需注意婚姻中权力平衡，避免控制欲过强。",
    "action": "建议学习沟通技巧，建立情绪缓冲机制；可参与团队协作项目以转化攻击性为领导力。"
  },
  "正财": {
    "advantage": "务实可靠，理财稳健，重视家庭价值；具备长期积累财富的耐心。",
    "advice": "适合实业、会计、金融等稳定收入职业；婚姻生活平淡但长久，需共同规划财务目标。",
    "action": "建议制定年度储蓄计划，避免冲动消费；可学习基础投资知识以提升资产效率。"
  },
  "偏财": {
    "advantage": "机会嗅觉敏锐，社交能力强，善于资源整合；具备快速变现的能力。",
    "advice": "适合销售、贸易、自媒体等灵活行业；需警惕感情中的不稳定因素，建立边界感。",
    "action": "建议设置‘投机资金’上限，其余资金稳健配置；定期复盘人际关系质量。"
  },
  "正印": {
    "advantage": "学习能力强，富有同理心，精神世界丰富；易得长辈或导师提携。",
    "advice": "适合教育、文化、心理咨询等领域；配偶可能如师如友，但需避免过度依赖。",
    "action": "建议每日留出独处时间滋养内心；可参与读书会或公益项目发挥影响力。"
  },
  "偏印": {
    "advantage": "直觉敏锐，擅长非常规思维，具备独特才艺；在冷门领域易脱颖而出。",
    "advice": "适合艺术、玄学、技术研发等创造性工作；需主动改善沟通方式以减少误解。",
    "action": "建议记录灵感日记，定期输出作品；可练习正念以缓解神经敏感。"
  },
  "伤官": {
    "advantage": "才华横溢，表达力强，追求自由与创新；具备打破常规的勇气。",
    "advice": "适合创意、演艺、自媒体等行业；需注意言语分寸，避免无意冒犯权威。",
    "action": "建议将批判性思维转化为建设性提案；可通过写作或演讲安全释放能量。"
  },
  "食神": {
    "advantage": "性格温和，人缘佳，具备生活美学；擅长通过技艺或口才获得收益。",
    "advice": "适合餐饮、教育、咨询等服务型职业；婚姻和谐，但需注意健康管理。",
    "action": "建议培养一项可持续的兴趣爱好；制定饮食与运动计划预防代谢问题。"
  },
  "比肩": {
    "advantage": "自信独立，朋友众多，执行力强；具备平等合作的精神。",
    "advice": "适合合伙创业或团队项目；婚姻中需注意避免竞争心态影响亲密感。",
    "action": "建议明确合作边界，定期进行财务对账；可参与竞技类活动释放好胜心。"
  },
  "劫财": {
    "advantage": "讲义气，行动力强，危机中有人相助；具备快速动员资源的能力。",
    "advice": "适合需要人脉支持的行业；需谨慎选择合作伙伴，避免财务纠纷。",
    "action": "建议建立‘朋友借贷’书面协议；可学习基础法律知识保护自身权益。"
  }
}
  }
}

